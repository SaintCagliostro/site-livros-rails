<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= @editora.name %> - Biblioteca MÃ­stica</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
      :root {
          --primary-dark: #1a1a2e; --primary-blue: #16213e; --accent: #0f3460;
          --light-bg: rgba(255,255,255,0.92); --glass-bg: rgba(255,255,255,0.88);
          --border-light: rgba(0,0,0,0.06); --text-primary: #1a202c;
          --text-secondary: #4a5568; --text-muted: #a0aec0;
      }
      * { box-sizing: border-box; }
      body {
          background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-blue) 50%, var(--accent) 100%);
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          color: var(--text-primary); line-height: 1.6; min-height: 100vh; padding: 2rem 0; margin: 0;
      }
      .editora-container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }

      .editora-header {
          display: grid; grid-template-columns: 200px 1fr; gap: 3rem; background: var(--light-bg);
          backdrop-filter: blur(20px); border: 1px solid var(--border-light); border-radius: 24px;
          padding: 3.5rem; margin-bottom: 3rem; box-shadow: 0 25px 70px rgba(0,0,0,0.18);
          align-items: start;
      }
      .editora-logo-placeholder {
          width: 200px; height: 200px; background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
          border: 3px solid rgba(26,26,46,0.08); border-radius: 20px; display: flex; flex-direction: column;
          align-items: center; justify-content: center; color: var(--text-muted); font-size: 1rem;
          text-align: center;
      }
      .editora-info h1 { font-size: clamp(2.25rem, 4.5vw, 3rem); font-weight: 700; color: var(--text-primary); margin: 0 0 1rem 0; letter-spacing: -0.025em; }
      .editora-description { color: var(--text-secondary); font-size: 1.15rem; line-height: 1.65; }

      .content-section {
          background: var(--light-bg); backdrop-filter: blur(20px); border: 1px solid var(--border-light);
          border-radius: 24px; padding: 3rem; box-shadow: 0 20px 60px rgba(0,0,0,0.15); margin-bottom: 2rem;
      }
      .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2.5rem; flex-wrap: wrap; gap: 1rem; }
      .section-title { color: var(--text-primary); font-size: 1.5rem; font-weight: 600; margin: 0; }
      .count-badge { background: rgba(255,255,255,0.6); color: var(--text-primary); padding: 0.3rem 1.2rem; border-radius: 25px; font-size: 0.9rem; font-weight: 500; }

      .books-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(210px, 1fr)); gap: 1.75rem; list-style: none; padding: 0; margin: 0; }
      .book-card {
          aspect-ratio: 2.8 / 4; background: rgba(255,255,255,0.75); border-radius: 16px; overflow: hidden;
          text-decoration: none; color: inherit; transition: all 0.35s cubic-bezier(0.4,0,0.2,1); position: relative;
          border: 1px solid rgba(0,0,0,0.08);
      }
      .book-card::before {
          content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
          transition: left 0.7s;
      }
      .book-card:hover { transform: translateY(-10px) scale(1.03); box-shadow: 0 25px 50px rgba(0,0,0,0.2); border-color: rgba(0,0,0,0.15); }
      .book-card:hover::before { left: 100%; }
      .book-image-placeholder { width: 100%; height: 72%; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); border-bottom: 1px solid rgba(0,0,0,0.08); display: flex; align-items: center; justify-content: center; position: relative; }
      .book-image-placeholder::after { content: 'ðŸ“š'; font-size: 2.8rem; opacity: 0.25; }
      .book-title { padding: 1.1rem 1rem 0.9rem; font-size: 0.95rem; font-weight: 600; color: var(--text-primary); line-height: 1.35; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

      .authors-list { list-style: none; padding: 0; margin: 0; }
      .author-item { display: flex; align-items: center; padding: 1rem; border-radius: 12px; transition: all 0.2s ease; margin-bottom: 0.5rem; }
      .author-item:hover { background: rgba(255,255,255,0.6); transform: translateX(4px); }
      .author-avatar { width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #e2e8f0, #cbd5e0); display: flex; align-items: center; justify-content: center; font-size: 1.1rem; margin-right: 1rem; }
      .author-name { font-weight: 500; color: var(--text-primary); font-size: 1rem; }

      .empty-state {
          min-height: 350px; display: flex; flex-direction: column; justify-content: center;
          align-items: center; color: var(--text-muted); font-size: 1.15rem; text-align: center; padding: 2.5rem;
      }

      .back-btn, .action-btn {
          display: inline-flex; align-items: center; gap: 0.6rem; font-weight: 500; font-size: 0.95rem;
          color: var(--text-secondary); text-decoration: none; padding: 0.6rem 1.5rem; border: 1px solid rgba(0,0,0,0.12);
          border-radius: 10px; transition: all 0.25s ease; background: rgba(255,255,255,0.7); backdrop-filter: blur(12px);
      }
      .back-btn:hover, .action-btn:hover { background: rgba(255,255,255,0.95); color: var(--text-primary); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
      .back-btn { border-left: 4px solid var(--accent); }
      .actions-bar { display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; padding: 2.5rem 0; border-top: 1px solid rgba(0,0,0,0.08); }

      @media (max-width: 992px) {
          .editora-header { grid-template-columns: 160px 1fr; gap: 2.5rem; padding: 3rem 2.5rem; }
          .editora-container { padding: 0 1.25rem; }
      }
      @media (max-width: 768px) {
          .editora-header { grid-template-columns: 1fr; text-align: center; gap: 2.5rem; }
          .editora-logo-placeholder { width: 160px; height: 160px; margin: 0 auto; }
          .books-grid { grid-template-columns: repeat(auto-fill, minmax(170px, 1fr)); gap: 1.5rem; }
          .actions-bar { flex-direction: column; align-items: center; }
          .action-btn, .back-btn { width: 100%; max-width: 300px; justify-content: center; }
      }
  </style>
</head>
<body>
<div class="editora-container">
  <div class="editora-header">
    <div class="editora-logo-placeholder">
      <i class="fas fa-building-columns" style="font-size: 3rem; color: #cbd5e0; margin-bottom: 0.75rem;"></i>
      <div>Logo da Editora</div>
      <small style="opacity: 0.7;">(Placeholder)</small>
    </div>
    <div class="editora-info">
      <h1><%= @editora.name %></h1>
      <div class="editora-description">
        Editora responsÃ¡vel pela publicaÃ§Ã£o de <%= @livros.count %> obra<%= @livros.count != 1 ? 's' : '' %> nesta biblioteca.
        Aqui vocÃª encontra todos os livros publicados por <%= @editora.name %> e os autores que trabalharam com esta casa editorial.
      </div>
    </div>
  </div>

  <div class="content-section">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-book me-2"></i>Livros Publicados
      </h2>
      <% if @livros.any? %>
        <span class="count-badge"><%= @livros.count %> livro<%= @livros.count != 1 ? 's' : '' %></span>
      <% end %>
    </div>
    <% if @livros.any? %>
      <ul class="books-grid">
        <% @livros.each do |book| %>
          <li><%= link_to book_path(book), class: "book-card" do %>
              <div class="book-image-placeholder"></div>
              <div class="book-title"><%= book.name %></div>
            <% end %></li>
        <% end %>
      </ul>
    <% else %>
      <div class="empty-state">
        <i class="fas fa-book-open" style="font-size: 3.5rem; color: #cbd5e0; margin-bottom: 1.5rem;"></i>
        <div>Nenhum livro publicado por esta editora ainda.</div>
        <div style="margin-top: 0.5rem; opacity: 0.8;">Seja o primeiro a cadastrar!</div>
      </div>
    <% end %>
  </div>

  <% if @autores.any? %>
    <div class="content-section">
      <div class="section-header">
        <h2 class="section-title">
          <i class="fas fa-users me-2"></i>Autores Parceiros
        </h2>
        <span class="count-badge"><%= @autores.count %> autor<%= @autores.count != 1 ? 'es' : '' %></span>
      </div>
      <ul class="authors-list">
        <% @autores.each do |author| %>
          <li class="author-item">
            <div class="author-avatar">
              <i class="fas fa-user" style="color: #64748b; font-size: 1.3rem;"></i>
            </div>
            <%= link_to author.name, author_path(author), class: "author-name" %>
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="actions-bar">
    <%= link_to "<i class='fas fa-arrow-left'></i> voltar".html_safe, root_path, class: 'back-btn' %>
    <%= link_to "<i class='fas '></i> Todas Editoras".html_safe, editoras_path, class: 'back-btn' %>
    <%= link_to "<i class='fas fa-book'></i> Todos os Livros".html_safe, books_path, class: "action-btn" %>
    <%= link_to "<i class='fas fa-users'></i> Todos os Autores".html_safe, authors_path, class: "action-btn" %>
    <%= link_to "<i class='fas fa-plus'></i> Novo Livro".html_safe, new_book_path, class: "action-btn" %>

  </div>
</div>
</body>
</html>
